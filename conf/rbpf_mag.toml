# RBPF with magnetic anomaly measurements only
input = "data/input"
output = "data/output/rbpf/mag"
mode = "particle-filter"
seed = 42
generate_plot = true
parallel = true

[logging]
level = "info"
file = "log/rbpf_mag.log"

[particle_filter]
num_particles = 1000
position_init_std_m = [10.0, 10.0, 5.0]
velocity_init_std_mps = 1.0
attitude_init_std_rad = 0.1
position_process_noise_std_m = [1.0, 1.0, 1.0]
velocity_process_noise_std_mps = 1e-3
attitude_process_noise_std_rad = 0.01
geo_bias_init_std = 1.0
geo_bias_process_noise_std = 1e-3
zero_vertical_velocity = true
zero_vertical_velocity_std_mps = 0.1

[geophysical]
# Magnetic anomaly measurements
magnetic_resolution = "one_minute"
magnetic_bias = 0.0
magnetic_noise_std = 150.0
# magnetic_map_file will be auto-detected if not specified

# Gravity anomaly disabled for this config
# gravity_resolution = ""
# gravity_bias = 0.0
# gravity_noise_std = 100.0

# Measurement frequency (seconds)
geo_frequency_s = 1.0

[gnss_degradation]
seed = 42

[gnss_degradation.scheduler]
kind = "fixed_interval"
interval_s = 60.0
phase_s = 0.0

[gnss_degradation.fault]
kind = "degraded"
rho_pos = 0.99
sigma_pos_m = 15.0
rho_vel = 0.95
sigma_vel_mps = 5.0
r_scale = 15.0
